"use strict";(()=>{var e={};e.id=8382,e.ids=[8382],e.modules={11007:(e,r,t)=>{t.r(r),t.d(r,{config:()=>d,default:()=>s,routeModule:()=>p});var n={};t.r(n),t.d(n,{default:()=>l});var a=t(64592),u=t(46387),o=t(49211),i=t(61871);async function l(e,r){try{if("GET"===e.method){let[e]=await i.d.query("SELECT * FROM rurhl");return r.status(200).json(e)}if("POST"===e.method){let{provinsi:t,kabupaten_kota:n,kecamatan:a,desa_kelurahan:u,latitude:o,longitude:l,luas_lahan:s,status_lahan:d,pemilik_pengelola_lahan:p,akses_ke_lokasi:P,penyuluh_id:c}=e.body;if(!t||!n||!a||!u)return r.status(400).json({error:"Provinsi, kabupaten/kota, kecamatan, and desa/kelurahan are required"});let[f]=await i.d.query(`INSERT INTO rurhl (provinsi, kabupaten_kota, kecamatan, desa_kelurahan, latitude, longitude, luas_lahan, status_lahan, pemilik_pengelola_lahan, akses_ke_lokasi, penyuluh_id)
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,[t,n,a,u,o??null,l??null,s??null,d??null,p??null,P??null,c??null]);return r.status(201).json({id:f.insertId})}return r.status(405).json({error:"Method not allowed"})}catch(e){return console.error(e),r.status(500).json({error:"Server error"})}}let s=(0,o.M)(n,"default"),d=(0,o.M)(n,"config"),p=new a.PagesAPIRouteModule({definition:{kind:u.A.PAGES_API,page:"/api/rurhl",pathname:"/api/rurhl",bundlePath:"",filename:""},userland:n})},46387:(e,r)=>{Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},49211:(e,r)=>{Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},61871:(e,r,t)=>{t.d(r,{d:()=>d});let n=require("mysql2/promise");var a=t.n(n);let{MYSQL_HOST:u,MYSQL_PORT:o,MYSQL_USER:i,MYSQL_PASSWORD:l,MYSQL_DATABASE:s}=process.env;if(!u||!i||!s)throw Error("Missing MySQL environment variables");let d=a().createPool({host:u,port:Number(o||3306),user:i,password:l,database:s,connectionLimit:10})},64592:(e,r,t)=>{e.exports=t(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")}};var r=require("../../webpack-api-runtime.js");r.C(e);var t=r(r.s=11007);module.exports=t})();