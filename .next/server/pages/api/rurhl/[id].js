"use strict";(()=>{var e={};e.id=9452,e.ids=[9452],e.modules={46387:(e,r)=>{Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},49211:(e,r)=>{Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},58413:(e,r,t)=>{t.r(r),t.d(r,{config:()=>l,default:()=>d,routeModule:()=>f});var a={};t.r(a),t.d(a,{default:()=>s});var n=t(64592),u=t(46387),o=t(49211),i=t(61871);async function s(e,r){let t=Number(e.query.id);if(Number.isNaN(t))return r.status(400).json({error:"Invalid ID"});try{if("GET"===e.method){let[e]=await i.d.query("SELECT * FROM rurhl WHERE id = ?",[t]),a=e[0];if(!a)return r.status(404).json({error:"Record not found"});return r.status(200).json(a)}if("PUT"===e.method){let{provinsi:a,kabupaten_kota:n,kecamatan:u,desa_kelurahan:o,latitude:s,longitude:d,luas_lahan:l,status_lahan:f,pemilik_pengelola_lahan:E,akses_ke_lokasi:p,penyuluh_id:c}=e.body,[h]=await i.d.query("SELECT * FROM rurhl WHERE id = ?",[t]),P=h[0];if(!P)return r.status(404).json({error:"Record not found"});let _=a??P.provinsi,m=n??P.kabupaten_kota,A=u??P.kecamatan,k=o??P.desa_kelurahan,y=s??P.latitude,v=d??P.longitude,R=l??P.luas_lahan,b=f??P.status_lahan,g=E??P.pemilik_pengelola_lahan,M=p??P.akses_ke_lokasi,j=c??P.penyuluh_id;return await i.d.query(`UPDATE rurhl SET
          provinsi = ?, kabupaten_kota = ?, kecamatan = ?, desa_kelurahan = ?, latitude = ?, longitude = ?, luas_lahan = ?, status_lahan = ?, pemilik_pengelola_lahan = ?, akses_ke_lokasi = ?, penyuluh_id = ?
         WHERE id = ?`,[_,m,A,k,y,v,R,b,g,M,j,t]),r.status(200).json({message:"Record updated successfully"})}if("DELETE"===e.method){let[e]=await i.d.query("DELETE FROM rurhl WHERE id = ?",[t]);if(0===e.affectedRows)return r.status(404).json({error:"Record not found"});return r.status(204).end()}return r.status(405).json({error:"Method not allowed"})}catch(e){return console.error(e),r.status(500).json({error:"Server error"})}}let d=(0,o.M)(a,"default"),l=(0,o.M)(a,"config"),f=new n.PagesAPIRouteModule({definition:{kind:u.A.PAGES_API,page:"/api/rurhl/[id]",pathname:"/api/rurhl/[id]",bundlePath:"",filename:""},userland:a})},61871:(e,r,t)=>{t.d(r,{d:()=>l});let a=require("mysql2/promise");var n=t.n(a);let{MYSQL_HOST:u,MYSQL_PORT:o,MYSQL_USER:i,MYSQL_PASSWORD:s,MYSQL_DATABASE:d}=process.env;if(!u||!i||!d)throw Error("Missing MySQL environment variables");let l=n().createPool({host:u,port:Number(o||3306),user:i,password:s,database:d,connectionLimit:10})},64592:(e,r,t)=>{e.exports=t(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")}};var r=require("../../../webpack-api-runtime.js");r.C(e);var t=r(r.s=58413);module.exports=t})();