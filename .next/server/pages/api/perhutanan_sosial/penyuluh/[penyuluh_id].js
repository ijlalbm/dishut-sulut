"use strict";(()=>{var e={};e.id=7389,e.ids=[7389],e.modules={46387:(e,r)=>{Object.defineProperty(r,"A",{enumerable:!0,get:function(){return n}});var n=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},49211:(e,r)=>{Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,n){return n in r?r[n]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,n)):"function"==typeof r&&"default"===n?r:void 0}}})},61871:(e,r,n)=>{n.d(r,{d:()=>l});let t=require("mysql2/promise");var u=n.n(t);let{MYSQL_HOST:o,MYSQL_PORT:i,MYSQL_USER:a,MYSQL_PASSWORD:s,MYSQL_DATABASE:d}=process.env;if(!o||!a||!d)throw Error("Missing MySQL environment variables");let l=u().createPool({host:o,port:Number(i||3306),user:a,password:s,database:d,connectionLimit:10})},64592:(e,r,n)=>{e.exports=n(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},82878:(e,r,n)=>{n.r(r),n.d(r,{config:()=>l,default:()=>d,routeModule:()=>p});var t={};n.r(t),n.d(t,{default:()=>s});var u=n(64592),o=n(46387),i=n(49211),a=n(61871);async function s(e,r){let n=Number(e.query.penyuluh_id);if(Number.isNaN(n))return r.status(400).json({error:"Invalid penyuluh_id"});try{if("GET"===e.method){let[e]=await a.d.query("SELECT * FROM perhutanan_sosial WHERE penyuluh_id = ?",[n]);if(0===e.length)return r.status(404).json({error:"No records found for the given penyuluh_id"});return r.status(200).json(e)}return r.status(405).json({error:"Method not allowed"})}catch(e){return console.error(e),r.status(500).json({error:"Server error"})}}let d=(0,i.M)(t,"default"),l=(0,i.M)(t,"config"),p=new u.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/perhutanan_sosial/penyuluh/[penyuluh_id]",pathname:"/api/perhutanan_sosial/penyuluh/[penyuluh_id]",bundlePath:"",filename:""},userland:t})}};var r=require("../../../../webpack-api-runtime.js");r.C(e);var n=r(r.s=82878);module.exports=n})();